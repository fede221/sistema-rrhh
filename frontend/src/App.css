/* Reset básico para responsividad */
* {
  box-sizing: border-box;
}

body, html, #root {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  overflow-x: hidden; /* Evitar scroll horizontal */
  /* Solo prevenir overscroll horizontal para evitar navegación */
  overscroll-behavior-x: none;
}

/* Configuración específica para móviles */
@media screen and (max-width: 768px) {
  html {
    height: 100vh;
    height: -webkit-fill-available;
  }
  
  body {
    height: 100vh;
    height: -webkit-fill-available;
    position: fixed;
    width: 100%;
    top: 0;
    left: 0;
  }
  
  #root {
    height: 100vh;
    height: -webkit-fill-available;
    overflow-y: auto;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
  }
}

.App {
  text-align: center;
  min-height: 100vh;
  width: 100%;
}

.App-logo {
  height: 40vmin;
  pointer-events: none;
}

@media (prefers-reduced-motion: no-preference) {
  .App-logo {
    animation: App-logo-spin infinite 20s linear;
  }
}

.App-header {
  background-color: #282c34;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: calc(10px + 2vmin);
  color: white;
}

.App-link {
  color: #61dafb;
}

@keyframes App-logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Contenedor principal responsive */
.main-container {
  width: 100%;
  max-width: 100vw;
  padding: 0 8px;
  margin: 0 auto;
}

/* Responsive para tablets */
@media (max-width: 768px) {
  .main-container {
    padding: 0 4px;
  }
}

/* Responsive para móviles */
@media (max-width: 480px) {
  .main-container {
    padding: 0 2px;
  }
  
  .App {
    font-size: 14px;
  }
}

/* Estilos para tablas responsive */
.responsive-table-container {
  width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.responsive-table {
  min-width: 100%;
  width: auto;
}

/* Ocultar columnas en móvil si es necesario */
@media (max-width: 600px) {
  .hide-mobile {
    display: none !important;
  }
  
  .mobile-stack {
    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important;
  }
}

/* Ajustes para botones en móvil */
@media (max-width: 480px) {
  .mobile-button-group {
    flex-direction: column !important;
    width: 100% !important;
  }
  
  .mobile-button-group button {
    width: 100% !important;
    margin: 2px 0 !important;
  }
}

/* Estilos específicos para PWA */
.pwa-mode {
  /* Ocultar la barra de dirección del navegador */
  overflow-x: hidden;
  overscroll-behavior: none;
  /* Prevenir comportamientos de navegador en PWA */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* Estilos para modo móvil (sin necesidad de PWA instalada) */
.mobile-app-mode {
  /* Configuración agresiva para pantalla completa en móviles */
  width: 100vw !important;
  height: 100vh !important;
  height: 100dvh !important; /* Dynamic viewport height */
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  overflow: hidden !important;
  overscroll-behavior: none !important;
  
  /* Prevenir zoom y comportamientos táctiles no deseados */
  -webkit-text-size-adjust: 100% !important;
  -webkit-tap-highlight-color: transparent !important;
  -webkit-touch-callout: none !important;
  -webkit-user-select: none !important;
  user-select: none !important;
  
  /* Configuración para iOS */
  -webkit-overflow-scrolling: touch !important;
  
  /* Forzar hardware acceleration */
  -webkit-transform: translate3d(0,0,0) !important;
  transform: translate3d(0,0,0) !important;
  -webkit-backface-visibility: hidden !important;
  backface-visibility: hidden !important;
}

/* Configuración específica para iOS Safari */
@supports (-webkit-touch-callout: none) {
  .mobile-app-mode {
    /* Altura específica para iOS que considera la barra de estado */
    height: -webkit-fill-available !important;
    min-height: -webkit-fill-available !important;
    
    /* Ocultar scrollbars en iOS */
    scrollbar-width: none !important;
    -ms-overflow-style: none !important;
  }
  
  .mobile-app-mode::-webkit-scrollbar {
    display: none !important;
  }
}

/* Configuración específica para Android Chrome */
@media screen and (max-width: 768px) and (-webkit-min-device-pixel-ratio: 1) {
  .mobile-app-mode {
    /* Usar variable CSS para altura dinámica en Android */
    height: calc(var(--vh, 1vh) * 100) !important;
  }
}

/* Soporte para safe areas en dispositivos con notch */
@supports (padding: max(0px)) {
  .pwa-mode,
  .mobile-app-mode {
    padding-top: max(20px, env(safe-area-inset-top));
    padding-bottom: max(20px, env(safe-area-inset-bottom));
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* Prevenir zoom en inputs cuando está en modo móvil */
.mobile-app-mode input,
.mobile-app-mode select,
.mobile-app-mode textarea,
.pwa-mode input,
.pwa-mode select,
.pwa-mode textarea {
  font-size: 16px !important;
  transform-origin: left top;
  transition: none !important;
}

/* Configuración específica para iOS Safari */
@supports (-webkit-touch-callout: none) {
  .mobile-app-mode {
    /* Ocultar la barra inferior de Safari en iOS */
    padding-bottom: env(safe-area-inset-bottom);
    margin-bottom: -34px; /* Altura típica del home indicator */
  }
}

/* Mantener el contenido dentro de la viewport en PWA */
@media (display-mode: standalone) {
  body, html, #root {
    height: 100vh;
    height: -webkit-fill-available;
    overflow-x: hidden;
  }
  
  .App {
    height: 100vh;
    height: -webkit-fill-available;
  }
}

/* Estilos para el modo oscuro en PWA */
@media (prefers-color-scheme: dark) and (display-mode: standalone) {
  .pwa-mode {
    background-color: #121212;
    color: #ffffff;
  }
}
